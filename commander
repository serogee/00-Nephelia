import re
import os
import discord
import prefix
        
# use importlib

class Bot:

    bots = dict()

    @classmethod
    def create(cls, key, *args, **kwargs):
        cls.bots[key] = mybot = MyBot(*args, **kwargs)
        return mybot

    @classmethod
    def connect(cls, key):
        return cls.bots[key]: MyBot

class MyBot:

    def __init__(self, client: discord.Client, bot_prefix):
        self.client = client
        if type(bot_prefix) is str:
            self.get_prefix = lambda message: bot_prefix
        elif callable(bot_prefix):
            self.get_prefix = bot_prefix
        else:
            raise TypeError("Given bot_prefix is neither a string object nor a callable")
        
    